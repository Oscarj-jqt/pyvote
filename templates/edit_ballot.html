<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modifier le Scrutin</title>
</head>
<body>
    <h1>Modifier le Scrutin</h1>
    
    <!-- Formulaire pour modifier le scrutin -->
    <form method="POST" action="{{ url_for('ballot.edit_ballot', ballot_id=ballot._id) }}">
        <!-- Nom du scrutin -->
        <label for="name_poll">Nom du scrutin :</label><br>
        <input type="text" id="name_poll" name="name_poll" value="{{ ballot.name_poll }}" {% if ballot.is_public %}disabled{% endif %} required>
        <br><br>

        <!-- Question -->
        <label for="poll_question">Question :</label><br>
        <textarea id="poll_question" name="poll_question" rows="3" {% if ballot.is_public %}disabled{% endif %} required>{{ ballot.poll_question }}</textarea>
        <br><br>

        <!-- Texte supplémentaire -->
        <label for="poll_text">Texte supplémentaire :</label><br>
        <textarea id="poll_text" name="poll_text" rows="5" {% if ballot.is_public %}disabled{% endif %} required>{{ ballot.poll_text }}</textarea>
        <br><br>

        <!-- Affichage des options (non modifiables) -->
        <label>Options du scrutin :</label><br>
        <ul>
            {% for option in ballot.options %}
            <li>{{ option }}</li>
            {% endfor %}
        </ul>
        <p style="color: gray; font-size: 0.9em;">Les options du scrutin ne peuvent pas être modifiées.</p>
        <br>

        <!-- Bouton pour soumettre les modifications -->
        <button type="submit" {% if ballot.is_public %}disabled{% endif %} style="padding: 10px; background-color: #6c47ff; color: white; text-decoration: none; border: none; border-radius: 5px;">
            Sauvegarder les modifications
        </button>
    </form>

    <!-- Message si le scrutin est public -->
    {% if ballot.is_public %}
    <p style="color: red;">Ce scrutin est déjà public. Les modifications ne sont plus possibles.</p>
    {% endif %}

    
    <br>
    <!-- Lien pour revenir à la liste des scrutins -->
    <a href="{{ url_for('ballot.view_ballots') }}" style="padding: 10px; background-color: #6c47ff; color: white; text-decoration: none; border: none; border-radius: 5px;">
        Retour à la liste des scrutins
    </a>
</body>
</html>